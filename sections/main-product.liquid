<div class="product-container">
  <div class="product-image">
    <img src="{{ product.featured_image | img_url: 'large' }}" alt="{{ product.title }}">
  </div>

  <div class="product-info">
    <h1 class="product-title">{{ product.title }}</h1>
    <p class="product-price">{{ product.price | money }}</p>

    <form method="post" action="/cart/add">
      <input type="hidden" name="id" value="{{ product.variants.first.id }}">
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" name="quantity" min="1" value="1">
      <button type="submit" class="add-to-cart">Add to Cart</button>
    </form>

    <!-- Collapsible Sections -->
    {% if product.metafields.custom.story != blank %}
      <button class="collapsible">üåû Story</button>
      <div class="content">
        <p>{{ product.metafields.custom.story }}</p>
      </div>
    {% endif %}

    {% if product.metafields.custom.ingredients != blank %}
      <button class="collapsible">üïØÔ∏è Ingredients</button>
      <div class="content">
        <p>{{ product.metafields.custom.ingredients }}</p>
      </div>
    {% endif %}

    {% if product.metafields.custom.safety != blank %}
      <button class="collapsible">‚ö†Ô∏è Safety & Usage</button>
      <div class="content">
        <p>{{ product.metafields.custom.safety }}</p>
      </div>
    {% endif %}

    {% if product.metafields.custom.shipping != blank %}
      <button class="collapsible">üöö Shipping & Returns</button>
      <div class="content">
        <p>{{ product.metafields.custom.shipping }}</p>
      </div>
    {% endif %}
  </div>
</div>

<!-- JavaScript for Collapsible Sections -->
<script>
document.addEventListener("DOMContentLoaded", function() {
  let collapsibles = document.querySelectorAll(".collapsible");
  
  collapsibles.forEach(button => {
    button.addEventListener("click", function() {
      this.classList.toggle("active");
      let content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  });
});
</script>

<!-- CSS Styling -->
<style>
.product-container {
  display: flex;
  gap: 30px;
  max-width: 1000px;
  margin: auto;
  padding: 20px;
}

.product-image img {
  max-width: 100%;
  border-radius: 10px;
}

.product-info {
  max-width: 50%;
}

.product-title {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 10px;
}

.product-price {
  font-size: 22px;
  color: #D4AF75;
  margin-bottom: 20px;
}

.add-to-cart {
  background-color: #D4AF75;
  color: black;
  font-weight: bold;
  padding: 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin-top: 15px;
}

.add-to-cart:hover {
  background-color: #b89865;
}

.collapsible {
  background-color: #f1f1f1;
  color: black;
  font-weight: bold;
  cursor: pointer;
  padding: 12px;
  width: 100%;
  text-align: left;
  border: none;
  border-radius: 5px;
  outline: none;
  margin-top: 10px;
}

.collapsible:hover {
  background-color: #ddd;
}

.content {
  display: none;
  padding: 10px;
  background-color: #F8F6F3;
  margin-top: 5px;
  border-radius: 5px;
}
</style>