{% style %}
  .product {
    margin: 0;
  }
  .product--no-media {
    max-width: 57rem;
    margin: 0 auto;
  }
  .product__media-wrapper {
    padding-left: 0;
  }
  .product__info-wrapper {
    padding-left: 0;
    padding-bottom: 0;
  }
  @media screen and (max-width: 749px) {
    .product-section {
      margin-top: 0;
    }
  }
  @media screen and (min-width: 750px) {
    .product__info-container--sticky {
      position: sticky;
      top: 3rem;
      z-index: 2;
    }
    .product__info-wrapper {
      padding-left: 5rem;
    }
    .product__media-container .slider-buttons {
      display: none;
    }
  }
  
  @media screen and (min-width: 990px) {
    .product:not(.product--no-media) .product__media-wrapper {
    }
    .product:not(.product--no-media) .product__info-wrapper {
      padding-left: 4rem;
    }
  }
  
  /* Dynamic checkout */
  .shopify-payment-button__button {
    border-radius: 0;
    min-height: 4.6rem;
    overflow: hidden;
  }
  .shopify-payment-button__button--unbranded {
    background-color: var(--color-button-background);
    box-shadow: 0 0 0 0.1rem var(--color-button-border);
    font-size: 1.4rem;
    line-height: 1.2;
    letter-spacing: 0.07rem;
  }
  .shopify-payment-button__button--unbranded:hover,
  .shopify-payment-button__button--unbranded:hover:not([disabled]) {
    background-color: var(--color-button-background);
    box-shadow: 0 0 0 0.2rem var(--color-button-border);
  }
  .shopify-payment-button__button--unbranded:focus {
    outline: 0.3rem solid var(--color-foreground);
    outline-offset: 0.3rem;
  }
  .shopify-payment-button__button--unbranded:focus-visible {
    outline: 0.3rem solid var(--color-foreground);
    outline-offset: 0.3rem;
  }
  .shopify-payment-button__button--unbranded:focus:not(:focus-visible) {
    outline: 0;
  }
  .shopify-payment-button__more-options {
    margin: 1.6rem 0 1rem;
    font-size: 1.2rem;
    line-height: 1.5;
    letter-spacing: 0.05rem;
    text-decoration: underline;
    text-underline-offset: 0.3rem;
  }
  /* Product form */
  .product-form {
    display: block;
  }
  /* Form Elements */
  .product-form__input {
    flex: 0 0 100%;
    padding: 0;
    margin: 0 0 1.2rem 0;
    max-width: 37rem;
    min-width: fit-content;
    border: none;
  }
  variant-radios,
  variant-selects {
    display: block;
  }
  .product-form__input--dropdown {
    margin-bottom: 1.6rem;
  }
  .product-form__input .form__label {
    padding-left: 0;
  }
  fieldset.product-form__input .form__label {
    margin-bottom: 0.2rem;
  }
  .product-form__input input[type='radio'] {
    clip: rect(0, 0, 0, 0);
    overflow: hidden;
    position: absolute;
    height: 1px;
    width: 1px;
  }
  .product-form__input input[type='radio'] + label {
    border: 0.1rem solid var(--color-foreground-55);
    border-radius: 4rem;
    background-color: var(--color-background);
    color: var(--color-foreground);
    display: inline-block;
    margin: 0.7rem 0.5rem 0.2rem 0;
    padding: 1rem 2rem;
    font-size: 1.4rem;
    letter-spacing: 0.1rem;
    line-height: 1;
    text-align: center;
    transition: border var(--duration-short) ease;
    cursor: pointer;
  }
  .product-form__input input[type='radio']:checked + label {
    background-color: var(--color-foreground);
    color: var(--color-background);
  }
  .product-form__input input[type='radio']:disabled + label {
    border-color: var(--color-foreground-10);
    color: var(--color-foreground-40);
    text-decoration: line-through;
  }
  .product-form__input input[type='radio']:focus-visible + label {
    box-shadow: 0 0 0 0.3rem var(--color-background),
      0 0 0 0.5rem var(--color-foreground-55);
  }
  .tpt-featured-product-desc {
    font-size: 1.4rem;
    font-weight: 300;
  }
  /* Fallback */
  .product-form__input input[type='radio']:focus + label {
    box-shadow: 0 0 0 0.3rem var(--color-background),
      0 0 0 0.5rem var(--color-foreground-55);
  }
  /* No outline when focus-visible is available in the browser */
  .product-form__input input[type='radio']:focus:not(:focus-visible) + label {
    box-shadow: none;
  }
  .product-form__input .select {
    max-width: 25rem;
  }
  .product-form__submit {
    margin-bottom: 1rem;
  }
  .product-form__submit[disabled] + .shopify-payment-button {
    display: none;
  }
  
  /* Overrides */
  .shopify-payment-button__more-options {
    color: var(--color-foreground);
  }
  .shopify-payment-button__button {
    font-size: 1.5rem;
    letter-spacing: .1rem;
  }
  
  /* Product info */
  .product__info-container > * + * {
    margin: 1.5rem 0;
  }
  .product__info-container .product-form,
  .product__info-container .product__description,
  .product__info-container .share-button {
    margin: 2.5rem 0;
  }
  .product__text {
    margin-bottom: 0;
  }
  a.product__text {
    display: block;
    text-decoration: none;
    color: var(--color-foreground-75);
  }
  .product__text.caption-with-letter-spacing {
    text-transform: uppercase;
  }
  .product__title {
    word-break: break-word;
    margin-bottom: 1.5rem;
  }
  .product__title + .product__text.caption-with-letter-spacing {
    margin-top: -1.5rem;
  }
  .product__text.caption-with-letter-spacing + .product__title {
    margin-top: 0;
  }
  .product__accordion .accordion__content {
    padding: 0 1rem;
  }
  .product .price {
    align-items: flex-start;
  }
  .product .price--sold-out .price__badge-sold-out {
    background: transparent;
    color: var(--color-background);
    padding: 1rem 1.6rem 0 0.6rem;
    border: none;
  }
  .product .price--sold-out .price__badge-sale {
    display: none;
  }
  @media screen and (min-width: 750px) {
    .product__info-container > *:first-child {
      margin-top: 0;
    }
  }
  .product__description-title {
    font-weight: 600;
  }
  .product--no-media .product__title,
  .product--no-media .product__text {
    text-align: center;
  }
  .product--no-media fieldset.product-form__input,
  .product--no-media .product-form__quantity,
  .product--no-media .product-form__input--dropdown,
  .product--no-media .share-button {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
  }
  .product--no-media .product-form__quantity,
  .product--no-media .product-form__input--dropdown {
    flex-direction: column;
    max-width: 100%;
  }
  .product--no-media fieldset.product-form__input {
    flex-wrap: wrap;
    margin: 0 auto 1.2rem auto;
  }
  .product--no-media .product__info-container > modal-opener {
    display: block;
    text-align: center;
  }
  .product--no-media .product-popup-modal__button {
    padding-right: 0;
  }
  .product--no-media .price {
    justify-content: center;
  }
  .product--no-media .product__info-wrapper {
    padding-left: 0;
  }
  
  /* Product media */
  @media screen and (max-width: 749px) {
    .product__media-list {
      margin-left: -2.5rem;
      padding-bottom: 2rem;
      margin-bottom: 3rem;
      width: calc(100% + 4rem);
    }
    .product__media-wrapper slider-component {
      margin-left: -1.5rem;
      margin-right: -1.5rem;
    }
    .slider.product__media-list {
      padding-bottom: 0;
    }
    .slider.product__media-list::-webkit-scrollbar {
      height: 0.2rem;
      width: 0.2rem;
    }
    .product__media-list::-webkit-scrollbar-thumb {
      background-color: var(--color-foreground);
    }
    .product__media-list::-webkit-scrollbar-track {
      background-color: var(--color-foreground-20);
    }
    .product__media-list .product__media-item {
      width: calc(100% - 3rem);
    }
    .product__media-list .product__media-item:first-of-type {
      padding-left: 1.5rem;
    }
  }
  @media screen and (min-width: 750px) {
    .product__media-item:first-child {
      width: 100%;
    }
  }
  @media screen and (min-width: 750px) and (max-width: 989px) {
    .product__media-list .product__media-item:first-child {
      padding-left: 0;
    }
    .product__media-list .product__media-item {
      padding: 0 0 0.5rem;
      width: 100%;
    }
  }
  .product__media-icon .icon {
    width: 1.2rem;
    height: 1.4rem;
  }
  .product__media-icon {
    background-color: var(--color-background);
    border-radius: 50%;
    border: 0.1rem solid var(--color-foreground-10);
    color: var(--color-foreground);
    display: flex;
    align-items: center;
    justify-content: center;
    height: 3rem;
    width: 3rem;
    position: absolute;
    left: 1.5rem;
    top: 1.5rem;
    z-index: 1;
    transition: color var(--duration-short) ease, opacity var(--duration-short) ease;
  }
  .product__media-video .product__media-icon {
    opacity: 1;
  }
  .product__modal-opener--image .product__media-toggle:hover {
    cursor: zoom-in;
  }
  .product__modal-opener:hover .product__media-icon {
    border: 0.1rem solid var(--color-foreground-10);
  }
  @media screen and (min-width: 990px) {
    .product__media-icon {
      opacity: 0;
    }
    .product__modal-opener:hover .product__media-icon,
    .product__modal-opener:focus .product__media-icon {
      opacity: 1;
    }
  }
  .product__media-item > * {
    display: block;
    position: relative;
  }
  .product__media-toggle {
    background-color: transparent;
    border: none;
    cursor: pointer;
    display: block;
    margin: 0;
    padding: 0;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
    height: 100%;
    width: 100%;
  }
  .product-media-modal {
    background-color: var(--color-base-background-1);
    box-sizing: border-box;
    height: 100%;
    left: 0;
    opacity: 0;
    position: fixed;
    top: 0;
    width: 100%;
    visibility: hidden;
    z-index: -1;
  }
  @media screen and (min-width: 750px) {
    .product-media-modal {
      padding: 0;
    }
  }
  .product-media-modal[open] {
    opacity: 1;
    visibility: visible;
    z-index: 101;
  }
  .product-media-modal__content {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: auto;
    width: 100%;
  }
  .product-media-modal__content > *:not(.active),
  .product__media-list .deferred-media {
    display: none;
  }
  
  @media screen and (min-width: 750px) {
    .product-media-modal__content {
      height: 100vh;
    }
    .product-media-modal__content > *:not(.active) {
      display: block;
    }
    .product-media-modal__content {
      justify-content: flex-start;
      padding-bottom: 2rem;
    }
    .product-media-modal__content > *:first-child {
      padding-top: 2rem;
    }
    .product__modal-opener:not(.product__modal-opener--image) {
      display: none;
    }
    .product__media-list .deferred-media {
      display: block;
    }
  }
  .product-media-modal__content > * {
    height: auto;
    margin: auto;
  }
  .product-media-modal__content .media {
    background: none;
  }
  .product-media-modal__model {
    width: 100%;
  }
  .product-media-modal__toggle {
    background-color: var(--color-background);
    border: 0.1rem solid var(--color-foreground-10);
    border-radius: 50%;
    color: var(--color-foreground-55);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    right: 2rem;
    padding: 1.2rem;
    position: fixed;
    z-index: 2;
    top: 2rem;
    width: 4rem;
  }
  .product-media-modal__content .deferred-media {
    width: 100%;
  }
  @media screen and (min-width: 750px) {
    .product-media-modal__content > * {
      max-width: 96%;
      width: 100%;
    }
    .product-media-modal__content > * + * {
      margin-top: 2rem;
    }
    .product-media-modal__toggle {
      right: 4.8rem;
      top: 3.5rem;
    }
  }
  
  @media screen and (min-width: 990px) {
    .product-media-modal__content > * {
      max-width: 98%;
    }
    .product-media-modal__content > * + * {
      margin-top: 1.5rem;
    }
    .product-media-modal__content {
      padding-bottom: 1.5rem;
    }
    .product-media-modal__content > *:first-child {
      padding-top: 1.5rem;
    }
    .product-media-modal__toggle {
      right: 4.3rem;
      top: 3rem;
    }
  }
  .product-media-modal__toggle:hover {
    color: var(--color-foreground-75);
  }
  .product-media-modal__toggle .icon {
    height: auto;
    margin: 0;
    width: 2.2rem;
  }
  /* Product thumbnail */
  .thumbnails {
    display: grid;
    flex-wrap: wrap;
    margin-top: 1.5rem;
    grid-template-columns: repeat(5, 1fr);
    grid-gap: 1rem;
  }
  @media screen and (min-width: 750px) {
    .thumbnails {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  @media screen and (min-width: 990px) {
    .thumbnails {
      grid-template-columns: repeat(6, 1fr);
    }
  }
  .thumbnail {
    position: relative;
    display: block;
    width: 100%;
    color: var(--color-foreground);
    cursor: pointer;
    border: 0.2rem inset var(--color-background);
    border-style: solid;
  }
  
  .thumbnail:hover {
    opacity: 0.7;
  }
  
  .thumbnail.is-active {
    border: 0.2rem solid var(--color-foreground);
  }
  .thumbnail img {
    pointer-events: none;
  }
  .thumbnail .icon {
    position: absolute;
    top: 0.3rem;
    right: 0.3rem;
    width: 2.4rem;
    height: 2.4rem;
    z-index: 2;
    pointer-events: none;
    fill: var(--color-background);
  }
  
  .product-popup-modal__toggle .icon {
    height: auto;
    margin: 0;
    width: 2.2rem;
  }
  .price {
    align-items: center;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    font-size: 1.6rem;
    letter-spacing: 0.1rem;
    line-height: 1.5;
    color: var(--color-foreground);
  }
  
  .price.price--unavailable {
    visibility: hidden;
  }
  
  .price--end {
    justify-content: flex-end;
  }
  
  .price dl {
    margin: 0;
    display: flex;
    flex-direction: column;
  }
  
  .price dd {
    margin: 0 1rem 0 0;
  }
  
  .price .price__last:last-of-type {
    margin: 0;
  }
  
  @media screen and (min-width: 750px) {
    .price {
      margin-bottom: 0;
    }
  }
  
  .price--large {
    font-size: 1.6rem;
    line-height: 1.5;
    letter-spacing: 0.13rem;
  }
  
  @media screen and (min-width: 750px) {
    .price--large {
      font-size: 1.8rem;
    }
  }
  
  .price--sold-out .price__availability,
  .price__regular {
    display: block;
  }
  
  .price__sale,
  .price__availability,
  .price .price__badge-sale,
  .price .price__badge-sold-out,
  .price--on-sale .price__regular,
  .price--on-sale .price__availability,
  .price--no-compare .price__compare {
    display: none;
  }
  
  .price--sold-out .price__badge-sold-out,
  .price--on-sale .price__badge-sale {
    display: inline-flex;
  }
  
  .price--on-sale .price__sale {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
  }
  
  .price--center {
    display: flex;
    justify-content: center;
  }
  
  .price--on-sale .price-item--regular {
    text-decoration: line-through;
    color: var(--color-foreground-75);
  }
  
  .unit-price {
    font-size: 1.1rem;
    letter-spacing: 0.04rem;
    line-height: 1.2;
    margin-top: 0.2rem;
    text-transform: uppercase;
    color: var(--color-foreground-70);
  }
  /* variant picker */
  variant-selects {
    display: block;
  }
  
  .product--no-media .product-form__input--pill,
  .product--no-media .product-form__input--swatch,
  .product--no-media .product-form__input--dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
  }
  
  .product--no-media .product-form__input.product-form__input--pill,
  .product--no-media .product-form__input.product-form__input--swatch {
    flex-wrap: wrap;
    margin: 0 auto 1.2rem auto;
  }
  
  .product--no-media .product-form__input--dropdown {
    flex-direction: column;
    max-width: 100%;
  }
  
  :is(.product-form__input--pill, .product-form__input--swatch) .form__label {
    margin-bottom: 0.2rem;
  }
  
  .product-form__input input[type='radio'] {
    clip: rect(0, 0, 0, 0);
    overflow: hidden;
    position: absolute;
    height: 1px;
    width: 1px;
  }
  
  .product-form__input input[type='radio']:not(.disabled):not(.visually-disabled) + label > .label-unavailable {
    display: none;
  }
  
  .product-form__input--dropdown {
    --swatch-input--size: 2rem;
    margin-bottom: 1.6rem;
  }
  
  .product-form__input--dropdown .dropdown-swatch + select {
    padding-left: calc(2.4rem + var(--swatch-input--size));
  }
  
  .product-form__input--dropdown .dropdown-swatch {
    position: absolute;
    left: 1.6rem;
    top: calc(50% - var(--swatch-input--size) / 2);
    width: var(--swatch-input--size);
    height: var(--swatch-input--size);
    z-index: 1;
  }
  
  /* Custom styles for Pill display type */
  .product-form__input--pill input[type='radio'] + label {
    border: var(--variant-pills-border-width) solid rgba(var(--color-foreground), var(--variant-pills-border-opacity));
    background-color: rgb(var(--color-background));
    color: rgba(var(--color-foreground));
    border-radius: var(--variant-pills-radius);
    color: rgb(var(--color-foreground));
    display: inline-block;
    margin: 0.7rem 0.5rem 0.2rem 0;
    padding: 1rem 2rem;
    font-size: 1.4rem;
    letter-spacing: 0.1rem;
    line-height: 1;
    text-align: center;
    transition: border var(--duration-short) ease;
    cursor: pointer;
    position: relative;
  }
  
  .product-form__input--pill input[type='radio'] + label:before {
    content: '';
    position: absolute;
    top: calc(var(--variant-pills-border-width) * -1);
    right: calc(var(--variant-pills-border-width) * -1);
    bottom: calc(var(--variant-pills-border-width) * -1);
    left: calc(var(--variant-pills-border-width) * -1);
    z-index: -1;
    border-radius: var(--variant-pills-radius);
    box-shadow: var(--variant-pills-shadow-horizontal-offset) var(--variant-pills-shadow-vertical-offset)
      var(--variant-pills-shadow-blur-radius) rgba(var(--color-shadow), var(--variant-pills-shadow-opacity));
  }
  
  .product-form__input--pill input[type='radio']:checked + label {
    background-color: rgb(var(--color-foreground));
    color: rgb(var(--color-background));
  }
  
  @media screen and (forced-colors: active) {
    .product-form__input--pill input[type='radio']:checked + label {
      text-decoration: underline;
    }
  
    .product-form__input--pill input[type='radio']:focus-visible + label {
      outline: transparent solid 1px;
      outline-offset: 2px;
    }
  }
  
  .product-form__input--pill input[type='radio']:checked + label::selection {
    background-color: rgba(var(--color-background), 0.3);
  }
  
  .product-form__input--pill input[type='radio']:disabled + label,
  .product-form__input--pill input[type='radio'].disabled + label {
    border-color: rgba(var(--color-foreground), 0.1);
    color: rgba(var(--color-foreground), 0.6);
    text-decoration: line-through;
  }
  
  .product-form__input--pill input[type='radio'].disabled:checked + label,
  .product-form__input--pill input[type='radio']:disabled:checked + label {
    color: rgba(var(--color-background), 0.6);
  }
  .product-form__input--pill input[type='radio']:focus-visible + label {
    box-shadow: 0 0 0 0.3rem rgb(var(--color-background)), 0 0 0 0.5rem rgba(var(--color-foreground), 0.55);
  }
{% endstyle %}
{%- liquid
  assign product = all_products[featured_product_handle]
  if product == null
    assign placeholder = true
  endif
-%}
{%- assign product_form_id = 'product-form-' | append: product.id -%}
<div class="tapitaSection tapita-featured-product-section" 
    id="tpt-featured-product-{{ product.id }}">
<script>
  window.tptHandleOptions{{ product.id }} = function() {
    let productVars = {{product.variants | json}};
    let optionsWithVar = {{  product.options_with_values | json }};
    let checkedOptions = document.querySelectorAll("#tpt-featured-product-{{ product.id }} variant-selects input[type='radio']:checked");
    if (checkedOptions && checkedOptions.length) {
      let selectedVal = [];
      checkedOptions.forEach(function(c, i) {
        selectedVal[i] = c.getAttribute('value');
      });
      let foundVars = [];
      if (productVars && productVars.length) {
        let correlativeWithFirstVar = [];
        let selectedVariant = false;
        productVars.forEach(function(pV) {
          if (pV.options[0] === selectedVal[0]) {
            correlativeWithFirstVar.push(pV);
            let isEq = true;
            for(let i = 0; i < pV.options.length; i++) {
             if (!selectedVal[i] || (selectedVal[i] !== pV.options[i]))
               isEq = false;
            }
            if (isEq)
              selectedVariant = pV;
          }
        });
        let secondOptions = document.querySelectorAll("#tpt-featured-product-{{ product.id }} variant-selects input[type='radio']");
        secondOptions.forEach(function(secI) {
          secI.classList.remove('disabled');
          let optName = secI.getAttribute('name').replaceAll(' ', '');
          if (optionsWithVar[1] && (optName == optionsWithVar[1].name)) {
            let hasCorrelative = false;
            correlativeWithFirstVar.forEach(function(cE) {
              if (cE.available && cE.options && (cE.options[1] === secI.getAttribute('value')))
                hasCorrelative = true;
            });
            if (!hasCorrelative)
              secI.classList.add('disabled');
          }
        });
        if (selectedVariant) {
          let inputEl = document.querySelector('#{{ product_form_id }} input[name="id"]');
          if (!inputEl) {
            inputEl = document.createElement("input");
            inputEl.name = "id";
            inputEl.type = "hidden";
            document.getElementById('{{ product_form_id }}').appendChild(inputEl);
          }
          inputEl.value = selectedVariant.id;
          if (!selectedVariant.available)
            document.querySelector('#{{ product_form_id }} button[type="submit"]').setAttribute('disabled', true);
          else
            document.querySelector('#{{ product_form_id }} button[type="submit"]').removeAttribute('disabled');
        }
      }
    }
  }
</script>
  <product-info
    data-section="{{ product.id }}"
    data-product-id="{{ product.id }}"
    data-update-url="false"
    data-url="{{ product.url }}"
  >
    {%- assign first_3d_model = product.media | where: 'media_type', 'model' | first -%}
    {%- if first_3d_model -%}
      <link
        id="ModelViewerStyle"
        rel="stylesheet"
        href="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css"
        media="print"
        onload="this.media='all'"
      >
      <link
        id="ModelViewerOverride"
        rel="stylesheet"
        href="{{ 'component-model-viewer-ui.css' | asset_url }}"
        media="print"
        onload="this.media='all'"
      >
    {%- endif -%}
  
    {% assign variant_images = product.images | where: 'attached_to_variant?', true | map: 'src' %}
  
    <section class="color-{{ section.settings.color_scheme }} {% if section.settings.secondary_background %}background-secondary{% else %}gradient{% endif %}">
      <div class="page-width section-{{ product.id }}-padding{% if section.settings.secondary_background %} isolate{% endif %}">
        <div class="featured-product product product--{{ section.settings.media_size }} grid grid--1-col gradient color-{{ section.settings.color_scheme }} product--{{ section.settings.media_position }}{% if section.settings.secondary_background == false %} isolate{% endif %} {% if product.media.size > 0 or section.settings.product == blank %}grid--2-col-tablet{% else %}product--no-media{% endif %}">
          <div class="product__media-wrapper">
            {%- unless placeholder -%}
              {%- liquid
                assign limit = 1
                if limit == 1
                  assign single_media_visible = true
                endif
              
                assign media_count = product.media.size
                if section.settings.hide_variants and media_count > 1 and variant_images.size > 0
                  assign media_count = media_count | minus: variant_images.size | plus: 1
                endif
                assign media_width = 0.55
              -%}
              
              <media-gallery
                id="MediaGallery-{{ product.id }}"
                role="region"
                {% if section.settings.enable_sticky_info %}
                  class="product__column-sticky"
                {% endif %}
                data-desktop-layout="{{ section.settings.gallery_layout }}"
              >
                <div id="GalleryStatus-{{ product.id }}" class="visually-hidden" role="status"></div>
                <slider-component id="GalleryViewer-{{ product.id }}" class="slider-mobile-gutter">
                  
                  <ul
                    id="Slider-Gallery-{{ product.id }}"
                    class="product__media-list contains-media grid grid--peek list-unstyled slider slider--mobile"
                    role="list"
                  >
                    {%- for media in product.media -%}
                      {% if media_position >= limit
                        or media_position >= 1
                        and section.settings.hide_variants
                        and variant_images contains media.src
                      %}
                        {% continue %}
                      {% endif %}
              
                      {%- unless media.id == product.selected_or_first_available_variant.featured_media.id -%}
                        <li
                          id="Slide-{{ product.id }}-{{ media.id }}"
                          class="product__media-item  slider__slide{% if single_media_visible %} product__media-item--single{% endif %}{% if product.selected_or_first_available_variant.featured_media == nil and forloop.index == 1 %} is-active{% endif %}{% if media.media_type != 'image' %} product__media-item--full{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}"
                          data-media-id="{{ product.id }}-{{ media.id }}"
                        >
                          {%- liquid
                            assign media_position = media_position | default: 0 | plus: 1
                            assign lazy_load = false
                          -%}
                          <div class="product__media media" style="padding-top: {{ 1 | divided_by: media.preview_image.aspect_ratio | times: 100 }}%;">
                            <img
                              srcset="{% if media.preview_image.width >= 288 %}{{ media.preview_image | img_url: '288x' }} 288w,{% endif %}
                                      {% if media.preview_image.width >= 576 %}{{ media.preview_image | img_url: '576x' }} 576w,{% endif %}
                                      {% if media.preview_image.width >= 550 %}{{ media.preview_image | img_url: '550x' }} 550w,{% endif %}
                                      {% if media.preview_image.width >= 1100 %}{{ media.preview_image | img_url: '1100x' }} 1100w{% endif %}"
                              src="{{ media | img_url: '550x550' }}"
                              sizes="(min-width: 1200px) calc((1200px - 10rem) / 2), (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)"
                              width="576"
                              height="{{ 576 | divided_by: media.preview_image.aspect_ratio | ceil }}"
                              alt="{{ media.preview_image.alt | escape }} {{ shop.name }}"
                            >
                          </div>
                          
                          {%- if media.media_type != 'image' -%}
                            {%- if media.media_type == 'model' -%}
                              <product-model class="deferred-media media no-js-hidden" style="padding-top: 100%" data-media-id="{{ media.id }}">
                            {%- else -%}
                              <deferred-media class="deferred-media media no-js-hidden" style="padding-top: {{ 1 | divided_by: media.aspect_ratio | times: 100 }}%" data-media-id="{{ media.id }}">
                            {%- endif -%}
                            <button id="Deferred-Poster-Modal-{{ media.id }}" class="deferred-media__poster" type="button">
                              <span class="deferred-media__poster-button motion-reduce">
                                {%- if media.media_type == 'model' -%}
                                  {%- render 'icon-3d-model' -%}
                                {%- else -%}
                                  {%- render 'icon-play' -%}
                                {%- endif -%}
                              </span>
                              <img
                                srcset="{% if media.preview_image.width >= 288 %}{{ media.preview_image | img_url: '288x' }} 288w,{% endif %}
                                        {% if media.preview_image.width >= 576 %}{{ media.preview_image | img_url: '576x' }} 576w,{% endif %}
                                        {% if media.preview_image.width >= 550 %}{{ media.preview_image | img_url: '550x' }} 550w,{% endif %}
                                        {% if media.preview_image.width >= 1100 %}{{ media.preview_image | img_url: '1100x' }} 1100w{% endif %}"
                                src="{{ media | img_url: '550x550' }}"
                                sizes="(min-width: 1200px) calc((1200px - 10rem) / 2), (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)"
                                width="576"
                                height="{{ 576 | divided_by: media.preview_image.aspect_ratio }}"
                                alt="{{ media.preview_image.alt | escape }} {{ shop.name }}"
                              >
                            </button>
                            <template>
                              {%- liquid
                                case media.media_type
                                when 'external_video'
                                  assign video_class = 'js-' | append: media.host
                                  if media.host == 'youtube'
                                    echo media | external_video_url: autoplay: true, loop: loop, playlist: media.external_id | external_video_tag: class: video_class, loading: "lazy"
                                  else
                                    echo media | external_video_url: autoplay: true, loop: loop | external_video_tag: class: video_class, loading: "lazy"
                                  endif
                                when 'video'
                                  echo media | media_tag: image_size: "2048x", autoplay: true, loop: loop, controls: true, preload: "none", autoplay: true
                                when 'model'
                                  echo media | media_tag: image_size: "2048x", toggleable: true
                                endcase
                              -%}
                            </template>
                          
                            {%- if media.media_type == 'model' -%}
                              </product-model>
                              <button
                                class="button button--full-width product__xr-button"
                                type="button"
                                data-shopify-xr
                                data-shopify-model3d-id="{{ media.id }}"
                                data-shopify-title="title"
                                data-shopify-xr-hidden
                                >
                                View in your space
                              </button>
                            {%- else -%}
                              </deferred-media>
                            {%- endif -%}
                          {%- endif -%}
                        </li>
                      {%- endunless -%}
                    {%- endfor -%}
                  </ul>
                </slider-component>
                {%- if first_3d_model -%}
                  <button
                    class="button button--full-width product__xr-button"
                    type="button"
                    data-shopify-xr
                    data-shopify-model3d-id="{{ first_3d_model.id }}"
                    data-shopify-title="{{ product.title | escape }}"
                    data-shopify-xr-hidden
                  >
                    View in your space
                  </button>
                {%- endif -%}
                {%- liquid
                  assign is_not_limited_to_single_item = false
                  if limit == null or limit > 1
                    assign is_not_limited_to_single_item = true
                  endif
                -%}
                {%- if is_not_limited_to_single_item
                  and media_count > 1
                  and section.settings.gallery_layout contains 'thumbnail'
                  or section.settings.mobile_thumbnails == 'show'
                -%}
                  <slider-component
                    id="GalleryThumbnails-{{ product.id }}"
                    class="thumbnail-slider slider-mobile-gutter quick-add-hidden{% unless section.settings.gallery_layout contains 'thumbnail' %} medium-hide large-up-hide{% endunless %}{% if section.settings.mobile_thumbnails != 'show' %} small-hide{% endif %}{% if media_count <= 3 %} thumbnail-slider--no-slide{% endif %}"
                  >
                    <ul
                      id="Slider-Thumbnails-{{ product.id }}"
                      class="thumbnail-list list-unstyled slider slider--mobile{% if section.settings.gallery_layout == 'thumbnail_slider' %} slider--tablet-up{% endif %}"
                    >
                      {%- capture sizes -%}
                        (min-width: {{ settings.page_width }}px) calc(({{ settings.page_width | minus: 100 | times: media_width | round }} - 4rem) / 4),
                        (min-width: 990px) calc(({{ media_width | times: 100 }}vw - 4rem) / 4),
                        (min-width: 750px) calc((100vw - 15rem) / 8),
                        calc((100vw - 8rem) / 3)
                      {%- endcapture -%}
              
                      {%- if featured_media != null -%}
                        {%- liquid
                          capture media_index
                            if featured_media.media_type == 'model'
                              increment model_index
                            elsif featured_media.media_type == 'video' or featured_media.media_type == 'external_video'
                              increment video_index
                            elsif featured_media.media_type == 'image'
                              increment image_index
                            endif
                          endcapture
                          assign media_index = media_index | plus: 1
                        -%}
                        <li
                          id="Slide-Thumbnails-{{ product.id }}-0"
                          class="thumbnail-list__item slider__slide{% if section.settings.hide_variants and variant_images contains featured_media.src %} thumbnail-list_item--variant{% endif %}"
                          data-target="{{ product.id }}-{{ featured_media.id }}"
                          data-media-position="{{ media_index }}"
                        >
                          {%- capture thumbnail_id -%}
                            Thumbnail-{{ product.id }}-0
                          {%- endcapture -%}
                          <button
                            class="thumbnail global-media-settings global-media-settings--no-shadow"
                            aria-current="true"
                            aria-controls="GalleryViewer-{{ product.id }}"
                            aria-describedby="{{ thumbnail_id }}"
                          >
                            {{
                              featured_media.preview_image
                              | image_url: width: 416
                              | image_tag:
                                loading: 'lazy',
                                sizes: sizes,
                                widths: '54, 74, 104, 162, 208, 324, 416',
                                id: thumbnail_id,
                                alt: featured_media.alt
                              | escape
                            }}
                          </button>
                        </li>
                      {%- endif -%}
                      {%- for media in product.media -%}
                        {%- unless media.id == product.selected_or_first_available_variant.featured_media.id -%}
                          {%- liquid
                            capture media_index
                              if media.media_type == 'model'
                                increment model_index
                              elsif media.media_type == 'video' or media.media_type == 'external_video'
                                increment video_index
                              elsif media.media_type == 'image'
                                increment image_index
                              endif
                            endcapture
                            assign media_index = media_index | plus: 1
                          -%}
                          <li
                            id="Slide-Thumbnails-{{ product.id }}-{{ forloop.index }}"
                            class="thumbnail-list__item slider__slide{% if section.settings.hide_variants and variant_images contains media.src %} thumbnail-list_item--variant{% endif %}"
                            data-target="{{ product.id }}-{{ media.id }}"
                            data-media-position="{{ media_index }}"
                          >
                            {%- if media.media_type == 'model' -%}
                              <span class="thumbnail__badge" aria-hidden="true">
                              </span>
                            {%- elsif media.media_type == 'video' or media.media_type == 'external_video' -%}
                              <span class="thumbnail__badge" aria-hidden="true">
                              </span>
                            {%- endif -%}
                            {%- capture thumbnail_id -%}
                              Thumbnail-{{ product.id }}-{{ forloop.index }}
                            {%- endcapture -%}
                            <button
                              class="thumbnail global-media-settings global-media-settings--no-shadow"
                              {% if media == product.selected_or_first_available_variant.featured_media
                                or product.selected_or_first_available_variant.featured_media == null
                                and forloop.index == 1
                              %}
                                aria-current="true"
                              {% endif %}
                              aria-controls="GalleryViewer-{{ product.id }}"
                              aria-describedby="{{ thumbnail_id }}"
                            >
                              {{
                                media.preview_image
                                | image_url: width: 416
                                | image_tag:
                                  loading: 'lazy',
                                  sizes: sizes,
                                  widths: '54, 74, 104, 162, 208, 324, 416',
                                  id: thumbnail_id,
                                  alt: media.alt
                                | escape
                              }}
                            </button>
                          </li>
                        {%- endunless -%}
                      {%- endfor -%}
                    </ul>
                  </slider-component>
                {%- endif -%}
              </media-gallery>
            {%- endunless -%}
          </div>
          <div class="product__info-wrapper {% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
            <section
              id="ProductInfo-{{ product.id }}"
              class="product__info-container"
              data-section="{{ product.id }}"
              data-url="{{ product.url }}"
            >

                    <p class="h2 product__title {{ block.settings.heading_size }}" {{ block.shopify_attributes }}>
                      {%- unless placeholder -%}
                        {{ product.title | escape }}
                      {%- endunless -%}
                    </p>
                    <div id="price-{{ product.id }}" role="status" {{ block.shopify_attributes }}>
                      {%- render 'price',
                        product: product,
                        placeholder: placeholder,
                        use_variant: true,
                        show_badges: true,
                        price_class: 'price--large'
                      -%}
                    </div>
                    {%- if product.quantity_price_breaks_configured? -%}
                      <div class="volume-pricing-note" id="Volume-Note-{{ product.id }}">
                        <span>Volume pricing available</span>
                      </div>
                    {%- endif -%}
                    {%- if cart.taxes_included or cart.duties_included or shop.shipping_policy.body != blank -%}
                      <div class="product__tax caption rte">
                        {%- if cart.duties_included and cart.taxes_included -%}
                          Duties and taxes included.
                        {%- elsif cart.taxes_included -%}
                          Taxes included.
                        {%- elsif cart.duties_included -%}
                          Duties included.
                        {%- endif -%}
                        {%- if shop.shipping_policy.body != blank -%}
                          <a href="{{ shop.shipping_policy.url }}">Shipping</a> calculated at checkout.
                        {%- endif -%}
                      </div>
                    {%- endif -%}
                    {%- unless placeholder -%}
                      <div {{ block.shopify_attributes }}>
                        {%- form 'product', product -%}
                          {{ form | payment_terms }}
                        {%- endform -%}
                      </div>
                    {%- endunless -%}
              
                    <p
                      class="product__sku{% if block.settings.text_style == 'uppercase' %} caption-with-letter-spacing{% elsif block.settings.text_style == 'subtitle' %} subtitle{% endif %}{% if product.selected_or_first_available_variant.sku.size == 0 %} visibility-hidden{% endif %}"
                      id="Sku-{{ product.id }}"
                      role="status"
                      {{ block.shopify_attributes }}
                    >
                      <span class="visually-hidden">SKU:</span>
                      {{- product.selected_or_first_available_variant.sku -}}
                    </p>
                    <div
                      id="Quantity-Form-{{ product.id }}"
                      class="product-form__input product-form__quantity{% if settings.inputs_shadow_vertical_offset != 0 and settings.inputs_shadow_vertical_offset < 0 %} product-form__quantity-top{% endif %}"
                      {{ block.shopify_attributes }}
                    >
                      {%- assign cart_qty = cart
                        | item_count_for_variant: product.selected_or_first_available_variant.id
                      -%}
                      <label class="quantity__label form__label" for="Quantity-{{ product.id }}">
                        {{ 'products.product.quantity.label' | t }}
                        <span class="quantity__rules-cart{% if cart_qty == 0 %} hidden{% endif %}">
                          <span
                            >(<span class="quantity-cart">{{ cart_qty }}</span> in cart)</span
                          >
                        </span>
                      </label>
                      <div class="price-per-item__container">
                        <quantity-input class="quantity">
                          <button class="quantity__button" name="minus" type="button">
                            <span class="visually-hidden">
                              Decrease quantity
                            </span>
                            <span class="svg-wrapper">
                              <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="icon icon-minus" viewBox="0 0 10 2"><path fill="currentColor" fill-rule="evenodd" d="M.5 1C.5.7.7.5 1 .5h8a.5.5 0 1 1 0 1H1A.5.5 0 0 1 .5 1" clip-rule="evenodd"/></svg>
                            </span>
                          </button>
                          <input
                            class="quantity__input"
                            type="number"
                            name="quantity"
                            id="Quantity-{{ product.id }}"
                            data-cart-quantity="{{ cart_qty }}"
                            data-min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                            min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                            {% if product.selected_or_first_available_variant.quantity_rule.max != null %}
                              data-max="{{ product.selected_or_first_available_variant.quantity_rule.max }}"
                              max="{{ product.selected_or_first_available_variant.quantity_rule.max }}"
                            {% endif %}
                            step="{{ product.selected_or_first_available_variant.quantity_rule.increment }}"
                            value="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                            form="{{ product_form_id }}"
                          >
                          <button class="quantity__button" name="plus" type="button">
                            <span class="visually-hidden">
                              Increase quantity
                            </span>
                            <span class="svg-wrapper">
                              <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="icon icon-plus" viewBox="0 0 10 10"><path fill="currentColor" fill-rule="evenodd" d="M1 4.51a.5.5 0 0 0 0 1h3.5l.01 3.5a.5.5 0 0 0 1-.01V5.5l3.5-.01a.5.5 0 0 0-.01-1H5.5L5.49.99a.5.5 0 0 0-1 .01v3.5l-3.5.01z" clip-rule="evenodd"/></svg>
                            </span>
                          </button>
                        </quantity-input>
                        {%- liquid
                          assign volume_pricing_array = product.selected_or_first_available_variant.quantity_price_breaks | sort: 'quantity' | reverse
                          assign current_qty_for_volume_pricing = cart_qty | plus: product.selected_or_first_available_variant.quantity_rule.min
                          if cart_qty > 0
                            assign current_qty_for_volume_pricing = cart_qty | plus: product.selected_or_first_available_variant.quantity_rule.increment
                          endif
                        -%}
                        {%- if product.quantity_price_breaks_configured? -%}
                          <price-per-item
                            id="Price-Per-Item-{{ product.id }}"
                            data-section-id="{{ product.id }}"
                            data-variant-id="{{ product.selected_or_first_available_variant.id }}"
                          >
                            {%- if product.selected_or_first_available_variant.quantity_price_breaks.size > 0 -%}
                              {%- assign variant_price_compare = product.selected_or_first_available_variant.compare_at_price -%}
                              <div class="price-per-item">
                                {%- if variant_price_compare -%}
                                  <dl class="price-per-item--current">
                                    <dt class="visually-hidden">Regular price</dt>
                                    <dd>
                                      <s class="variant-item__old-price">
                                        {{ variant_price_compare | money_with_currency }}
                                      </s>
                                    </dd>
                                  </dl>
                                {%- endif -%}
                                {%- if current_qty_for_volume_pricing < volume_pricing_array.last.minimum_quantity -%}
                                  {%- assign variant_price = product.selected_or_first_available_variant.price
                                    | money_with_currency
                                  -%}
                                  <span class="price-per-item--current">
                                    at {{ variant_price }}/ea
                                  </span>
                                {%- else -%}
                                  {%- for price_break in volume_pricing_array -%}
                                    {%- if current_qty_for_volume_pricing >= price_break.minimum_quantity -%}
                                      {%- assign price_break_price = price_break.price | money_with_currency -%}
                                      <span class="price-per-item--current">
                                        at {{ price_break_price }}/ea
                                      </span>
                                      {%- break -%}
                                    {%- endif -%}
                                  {%- endfor -%}
                                {%- endif -%}
                              </div>
                            {%- else -%}
                              {%- assign variant_price = product.selected_or_first_available_variant.price
                                | money_with_currency
                              -%}
                              {%- assign variant_price_compare = product.selected_or_first_available_variant.compare_at_price -%}
                              <div class="price-per-item">
                                {%- if variant_price_compare -%}
                                  <dl class="price-per-item--current">
                                    <dt class="visually-hidden">Regular price</dt>
                                    <dd>
                                      <s class="variant-item__old-price">
                                        {{ variant_price_compare | money_with_currency }}
                                      </s>
                                    </dd>
                                    <dt class="visually-hidden">Sale price</dt>
                                    <dd>
                                      <span class="price-per-item--current">at {{ variant_price }}/ea</span>
                                    </dd>
                                  </dl>
                                {%- else -%}
                                  <span class="price-per-item--current">at {{ variant_price }}/ea</span>
                                {%- endif -%}
                              </div>
                            {%- endif -%}
                          </price-per-item>
                        {%- endif -%}
                      </div>
                      <div class="quantity__rules caption" id="Quantity-Rules-{{ product.id }}">
                        {%- if product.selected_or_first_available_variant.quantity_rule.increment > 1 -%}
                          <span class="divider">
                            {{-
                              'products.product.quantity.multiples_of'
                              | t: quantity: product.selected_or_first_available_variant.quantity_rule.increment
                            -}}
                          </span>
                        {%- endif -%}
                        {%- if product.selected_or_first_available_variant.quantity_rule.min > 1 -%}
                          <span class="divider">
                            {{-
                              'products.product.quantity.minimum_of'
                              | t: quantity: product.selected_or_first_available_variant.quantity_rule.min
                            -}}
                          </span>
                        {%- endif -%}
                        {%- if product.selected_or_first_available_variant.quantity_rule.max != null -%}
                          <span class="divider">
                            {{-
                              'products.product.quantity.maximum_of'
                              | t: quantity: product.selected_or_first_available_variant.quantity_rule.max
                            -}}
                          </span>
                        {%- endif -%}
                      </div>
                      {%- if product.quantity_price_breaks_configured? -%}
                        <volume-pricing class="parent-display" id="Volume-{{ product.id }}">
                          {%- if product.selected_or_first_available_variant.quantity_price_breaks.size > 0 -%}
                            <span class="caption-large">{{ 'products.product.volume_pricing.title' | t }}</span>
                            <ul class="list-unstyled">
                              <li>
                                <span>{{ product.selected_or_first_available_variant.quantity_rule.min }}+</span>
                                {%- assign price = product.selected_or_first_available_variant.price
                                  | money_with_currency
                                -%}
                                <span data-text="{{ 'products.product.volume_pricing.price_at_each' | t: price: variant_price }}">
                                  {{ 'sections.quick_order_list.each' | t: money: price -}}
                                </span>
                              </li>
                              {%- for price_break in product.selected_or_first_available_variant.quantity_price_breaks -%}
                                {%- assign price_break_price = price_break.price | money_with_currency -%}
                                <li class="{%- if forloop.index >= 3 -%}show-more-item hidden{%- endif -%}">
                                  <span>
                                    {{- price_break.minimum_quantity -}}
                                    <span aria-hidden="true">+</span></span
                                  >
                                  {%- assign price = price_break.price | money_with_currency -%}
                                  <span data-text="{{ 'products.product.volume_pricing.price_at_each' | t: price: price_break_price }}">
                                    {{ 'sections.quick_order_list.each' | t: money: price -}}
                                  </span>
                                </li>
                              {%- endfor -%}
                            </ul>
                            {%- if product.selected_or_first_available_variant.quantity_price_breaks.size >= 3 -%}
                              <show-more-button>
                                <button
                                  class="button-show-more link underlined-link"
                                  id="Show-More-{{ product.id }}"
                                  type="button"
                                >
                                  <span class="label-show-more label-text"
                                    ><span aria-hidden="true">+ </span>{{ 'products.facets.show_more' | t }}
                                  </span>
                                </button>
                              </show-more-button>
                            {%- endif -%}
                          {%- endif -%}
                        </volume-pricing>
                      {%- endif -%}
                    </div>
                    {%- unless product.has_only_default_variant -%}
                      <variant-selects
                        id="variant-selects-{{ product.id }}"
                        data-section="{{ product.id }}"
                        {{ block.shopify_attributes }}
                      >
                        {%- for option in product.options_with_values -%}
                            <fieldset class="js product-form__input product-form__input--pill">
                              <legend class="form__label">{{ option.name }}</legend>
                                {%- liquid
                                  assign product_form_id = 'product-form-' | append: product.id
                                -%}
                                
                                {%- for value in option.values -%}
                                  {%- liquid
                                    assign option_disabled = true
                                    if value.available
                                      assign option_disabled = false
                                    endif
                                  -%}
                                
                                  {%- capture input_id -%}
                                    var-{{ product.id }}-{{ option.position }}-{{ forloop.index0 -}}
                                  {%- endcapture -%}
                                
                                  {%- capture input_name -%}{{ option.name }}{%- endcapture -%}
                                
                                  {%- capture input_dataset -%}
                                    data-product-url="{{ value.product_url }}"
                                    data-option-value-id="{{ value.id }}"
                                  {%- endcapture -%}
                                
                                  {%- capture label_unavailable -%}
                                    <span class="visually-hidden label-unavailable">
                                      Variant sold out or unavailable
                                    </span>
                                  {%- endcapture -%}
                                    <input
                                      type="radio"
                                      onchange="tptHandleOptions{{ product.id }}()"
                                      id="{{ input_id }}"
                                      name="{{ input_name | escape }}"
                                      value="{{ value | escape }}"
                                      form="{{ product_form_id }}"
                                      {% if value.selected %}
                                        checked
                                      {% endif %}
                                      {% if option_disabled %}
                                        class="disabled"
                                      {% endif %}
                                      {{ input_dataset }}
                                    >
                                    <label for="{{ input_id }}">
                                      {{ value -}}
                                      {{ label_unavailable }}
                                    </label>
                                {%- endfor -%}
                                                              
                            </fieldset>
                        {%- endfor -%}
                    
                        <script type="application/json" data-selected-variant>
                          {{ product.selected_or_first_available_variant | json }}
                        </script>
                      </variant-selects>
                    {%- endunless -%}
                                  
                    <div >
                      {%- if product != blank -%}
                        {%- liquid
                          assign gift_card_recipient_feature_active = false
                          if block.settings.show_gift_card_recipient and product.gift_card?
                            assign gift_card_recipient_feature_active = true
                          endif
                    
                          assign show_dynamic_checkout = false
                          if block.settings.show_dynamic_checkout and gift_card_recipient_feature_active == false
                            assign show_dynamic_checkout = true
                          endif
                        -%}
                    
                        <product-form
                          class="product-form"
                          data-hide-errors="{{ gift_card_recipient_feature_active }}"
                          data-section-id="{{ product.id }}"
                        >
                          <div class="product-form__error-message-wrapper" role="alert" hidden>
                            <span class="product-form__error-message"></span>
                          </div>
                    
                          {%- form 'product',
                            product,
                            id: product_form_id,
                            class: 'form',
                            novalidate: 'novalidate',
                            data-type: 'add-to-cart-form'
                          -%}
                            <input
                              type="hidden"
                              name="id"
                              value="{{ product.selected_or_first_available_variant.id }}"
                              {% if product.selected_or_first_available_variant.available == false
                                or quantity_rule_soldout
                                or product.selected_or_first_available_variant == null
                              %}
                                disabled
                              {% endif %}
                              class="product-variant-id"
                            >
                            <div class="product-form__buttons">
                              {%- liquid
                                assign check_against_inventory = true
                                if product.selected_or_first_available_variant.inventory_management != 'shopify' or product.selected_or_first_available_variant.inventory_policy == 'continue'
                                  assign check_against_inventory = false
                                endif
                                if product.selected_or_first_available_variant.quantity_rule.min > product.selected_or_first_available_variant.inventory_quantity and check_against_inventory
                                  assign quantity_rule_soldout = true
                                endif
                              -%}
                              <button
                                id="ProductSubmitButton-{{ section_id }}"
                                type="submit"
                                name="add"
                                class="product-form__submit button button--full-width {% if show_dynamic_checkout %}button--secondary{% else %}button--primary{% endif %}"
                                {% if product.selected_or_first_available_variant.available == false
                                  or quantity_rule_soldout
                                  or product.selected_or_first_available_variant == null
                                %}
                                  disabled
                                {% endif %}
                              >
                                <span>
                                  {%- if product.selected_or_first_available_variant == null -%}
                                      {{ 'products.product.unavailable' | t }}
                                  {%- elsif product.selected_or_first_available_variant.available == false or quantity_rule_soldout -%}
                                    {{ 'products.product.sold_out' | t }}
                                  {%- else -%}
                                    {{ 'products.product.add_to_cart' | t }}
                                  {%- endif -%}
                                </span>
                              </button>
                              {%- if show_dynamic_checkout -%}
                                {{ form | payment_button }}
                              {%- endif -%}
                            </div>
                          {%- endform -%}
                        </product-form>
                      {%- else -%}
                        <div class="product-form">
                          <div class="product-form__buttons form">
                            <button
                              type="submit"
                              name="add"
                              class="product-form__submit button button--full-width button--primary"
                              disabled
                            >
                              {{ 'products.product.sold_out' | t }}
                            </button>
                          </div>
                        </div>
                      {%- endif -%}
                    
                      {%- if show_pickup_availability -%}
                        {%- assign pick_up_availabilities = product.selected_or_first_available_variant.store_availabilities
                          | where: 'pick_up_enabled', true
                        -%}
                    
                        <pickup-availability
                          class="product__pickup-availabilities quick-add-hidden"
                          {% if product.selected_or_first_available_variant.available and pick_up_availabilities.size > 0 %}
                            available
                          {% endif %}
                          data-root-url="{{ routes.root_url }}"
                          data-variant-id="{{ product.selected_or_first_available_variant.id }}"
                          data-has-only-default-variant="{{ product.has_only_default_variant }}"
                          data-product-page-color-scheme="gradient color-{{ section.settings.color_scheme }}"
                        >
                          <template>
                            <pickup-availability-preview class="pickup-availability-preview">
                              <div class="pickup-availability-info">
                                <p class="caption-large">{{ 'products.product.pickup_availability.unavailable' | t }}</p>
                                <button class="pickup-availability-button link link--text underlined-link">
                                  {{ 'products.product.pickup_availability.refresh' | t }}
                                </button>
                              </div>
                            </pickup-availability-preview>
                          </template>
                        </pickup-availability>
                      {%- endif -%}
                    </div>
              <div class="tpt-featured-product-desc">
                {{ product.description  | truncate: 810, "..." }}
              </div>
              <a
                {% if product == blank %}
                  role="link" aria-disabled="true"
                {% else %}
                  href="{{ product.url }}"
                {% endif %}
                class="link product__view-details animate-arrow"
              >
                View full details
              </a>
            </section>
          </div>
        </div>   
      </div>
    </section>
  </product-info>
</div>